<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
    <link rel="stylesheet" href="css/styles.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body class="text-dark the-list">
    <div class="box">
        <h1>Todo List</h1>
    </div>
    <div class="box filter">
    <label for="priorityFilter" class="form-label">Filter by Priority:</label>
    <select id="priorityFilter" class="form-select w-auto">
        <option value="all">All</option>
        <option value="high">High 游댮</option>
        <option value="medium">Medium 游리</option>
        <option value="low">Low 游릭</option>
    </select>
</div>


    <div class="box">
        <% for (var i = 0; i < ejes.length; i++) { %>
            <div class="item d-flex align-items-center gap-2">
                <div class="task-div">
                    <input type="checkbox" id="done<%= i %>" class="done-checkbox"> 
                    <p class="mb-0" id="para<%= i %>"><%= ejes[i] %></p>
                </div>
                <div class="important-thing d-flex align-items-center gap-2">
                    <label for="priority<%= i %>" class="imp-label">Priority:</label>
                    <input type="radio" name="priority<%= i %>" id="priority-high<%= i %>" value="high" class="priority-radio red">
                    <input type="radio" name="priority<%= i %>" id="priority-medium<%= i %>" value="medium" class="priority-radio yellow">
                    <input type="radio" name="priority<%= i %>" id="priority-low<%= i %>" value="low" class="priority-radio green">
                </div>
            </div>
        <% } %>
    </div>

    <div class="box">
        <form action="/" method="POST">
            <div class="mb-3">
                <label for="task" class="form-label">Enter your task</label>
                <input type="text" class="form-control" id="task" name="ele1" aria-describedby="taskHelp">
            </div>
            <button type="submit" class="btn btn-primary" id="add-btn">Add it</button>
        </form>
    </div>

    <p class="feature">
        游뚽Sort your tasks by what matters most<br>
        Tap that Priority Button<br>
        游댮 Red-High 游리 Yellow-Medium 游릭 Green-Low<br>
        俱뫮잺 Organize. Prioritize. Dominate. 游눤
    </p>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(".done-checkbox").click(function () {
            let idNum = this.id.replace("done", "");
            $("#para" + idNum).toggleClass("done");

            if ($("#para" + idNum).hasClass("done")) {
                alert("Task Completed!");
            } else {
                alert("Task marked as not done :(");
            }
        });

        $("#add-btn").click(function (event) {
            if ($("#task").val() === "") {
                event.preventDefault();
                alert("Please enter a task before adding it to the list.");
            }
        });
        
    </script>
</body>
</html>
